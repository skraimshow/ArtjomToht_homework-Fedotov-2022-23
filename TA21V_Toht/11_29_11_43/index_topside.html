<!DOCTYPE html>
<html>
<head>
<meta harset="utf-8" />
<title></title>
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
<script>
function makeSumm(N){
	Qt=parseFloat(document.bill["prodNum"+N].value);
	Pr=parseFloat(document.bill["prodPrice"+N].value);
	Of=parseFloat(document.bill["prodOff"+N].value);
	Tx=parseInt(document.bill["prodTax"+N].value);
	Sm=Qt*Pr*(1-Of/100)*(1+Tx/100);
	Sm=Math.floor(Sm*100)/100;
	document.getElementById("prodSumm"+N).innerHTML=Sm;

}
function addRow(finDest){
    // получаем указатель на ряд, в кл
	newPlace=finDest.parentElement.parentElement;
	preRow=newPlace.previousSibling;
	newNumber=parseInt(preRow.childNodes[0].innerHTML)+1;
	newRow=document.createElement('tr');
	newCell=document.createElement('th');
	newCell.innerHTML=newNumber;
	newRow.appendChild(newCell);
	//------- Добавляем поле названия товара ------//
	newCell=document.createElement('td');
	newInput=document.createElement('input');
	newInput=setAttribute('type','text');
	newInput=setAttribute('size','60');
	newInput=setAttribute('name','prodName'+newNumber);
	newInput.setAttribute('onChange','makeSumm('newNumber')');
	newInput.setAttribute('value','0');
	newCell.appendChild(newInput);
	newRow.appendChild(newCell);
	//-----====================------//
	//------- Добавляем поле цены товара ------//
	newCell=document.createElement('td');
	newInput=document.createElement('input');
	newInput=setAttribute('type','text');
	newInput=setAttribute('size','8');
	newInput=setAttribute('name','prodPrice'+newNumber);
	newInput.setAttribute('onChange','makeSumm('newNumber')');
	newInput.setAttribute('value','0');
	newCell.appendChild(newInput);
	newRow.appendChild(newCell);
	//-----====================------//
	//------- Добавляем поле количества товара ------//
	newCell=document.createElement('td');
	newInput=document.createElement('input');
	newInput=setAttribute('type','text');
	newInput=setAttribute('size','6');
	newInput=setAttribute('name','prodNum'+newNumber);
	newInput.setAttribute('onChange','makeSumm('newNumber')');
	newInput.setAttribute('value','0');
	newCell.appendChild(newInput);
	newRow.appendChild(newCell);
	//-----====================------//
	//------- Добавляем поле наценку товара ------//
	newCell=document.createElement('td');
	newInput=document.createElement('input');
	newInput=setAttribute('type','text');
	newInput=setAttribute('size','3');
	newInput=setAttribute('name','prodTax'+newNumber);
	newInput.setAttribute('onChange','makeSumm('newNumber')');
	newInput.setAttribute('value','0');
	newCell.appendChild(newInput);
	newRow.appendChild(newCell);
	//-----====================------//
	//------- Добавляем поле скидку товара ------//
	newCell=document.createElement('td');
	newInput=document.createElement('input');
	newInput=setAttribute('type','text');
	newInput=setAttribute('size','3');
	newInput=setAttribute('name','prodOff'+newNumber);
	newInput.setAttribute('onChange','makeSumm('newNumber')');
	newInput.setAttribute('value','0');
	newCell.appendChild(newInput);
	newRow.appendChild(newCell);
	//-----====================------//
	//------- Добавляем поле Сумму цены ------//
	newCell=document.createElement('td');
	newInput=document.createElement('input');
	newInput=setAttribute('type','text');
	newInput=setAttribute('size','8');
	newInput=setAttribute('name','prodSumm'+newNumber);
	newInput.setAttribute('onChange','makeSumm('newNumber')');
	newInput.setAttribute('value','0');
	newCell.appendChild(newInput);
	newRow.appendChild(newCell);
	//-----====================------//
	bigTableBody=newPlace.parentElement;
	bigTableBody.insertBefore(newRow, newPlace)

}
</script>
</head>
<body>
<div class="container">

<h1 class="display-5 text-center">Форма счета</h1>
<form method="post" action="bill.php">
  <div class="row">
    <div class="col-12 col-lg-6 clientsZone">
      <div class="row">
        <div class="col-5 text-end">
          <label for="userName" class="clientName">Наименование организации:</label>
        </div>
        <div class="col-7 text-end">
          <input type="text" id="userName" class="form-control" name="userName" />
        </div>
      </div>
      <div class="row">
        <div class="col-5 text-end">
          <label for="userName" class="clientName">Регистрационный номер:</label>
        </div>
        <div class="col-7 text-end">
          <input type="text" id="userName" class="form-control" name="userName" />
        </div>
      </div>
      <div class="row">
        <div class="col-5 text-end">
          <label for="userName" class="clientName">Юридический  алрес:</label>
        </div>
        <div class="col-7 text-end">
          <input type="text" id="userName" class="form-control" name="userName" />
        </div>
      </div>
      <div class="row">
        <div class="col-5 text-end">
          <label for="userName" class="clientName">электронный адрес:</label>
        </div>
        <div class="col-7 text-end">
          <input type="text" id="userName" class="form-control" name="userName" />
        </div>
      </div>
    </div><!--// clientsZone //-->
    
    
    
    <div class="col-12 col-lg-6 actZone">
      <div class="row">
        <div class="col-5 text-end">
          <label for="userName" class="clientName">Основание:</label>
        </div>
        <div class="col-7 text-end">
          <input type="text" id="userName" class="form-control" name="userName" />
        </div>
      </div>
      <div class="row">
        <div class="col-5 text-end">
          <label for="userName" class="clientName">Документ N:</label>
        </div>
        <div class="col-7 text-end">
          <input type="text" id="userName" class="form-control" name="userName" />
        </div>
      </div>
      <div class="row">
        <div class="col-5 text-end">
          <label for="userName" class="clientName">Дата документа:</label>
        </div>
        <div class="col-7 text-end">
          <input type="data" id="userName" class="form-control" name="userName" />
        </div>
      </div>
      <div class="row">
        <div class="col-5 text-end">
          <label for="userName" class="clientName">электронный адрес:</label>
        </div>
        <div class="col-7 text-end">
          <input type="text" id="userName" class="form-control" name="userName" />
        </div>
      </div>
    </div><!--// actZone //-->
    <table class="table">
  <thead><tr>
      <th scope="col">#</th>
      <th scope="col">Наименование</th>
      <th scope="col">Цена</th>
      <th scope="col">Кол-во</th>
      <th scope="col">Налог</th>
      <th scope="col">Скидка</th>
      <th scope="col">Сумма</th>
    </tr></thead>
    <thead><tr>
    <th scope="row">1</th>
    <td><input type="text" size="60" name="prodName1" /></td>
    <td><input type="text" size="8" name="prodPrice1" /></td>
    <td><input type="text" size="6" name="prodNum1" /></td>
    <td><input type="text" size="3" name="prodTax1" /></td>
    <td><input type="text" size="3" name="prodOff1" /></td>
    <td><input type="text" size="8" name="prodSumm1" /></td>
    </tr></thead>
	<tr>
	<td><input type="button" value="+" onclick="addRow(this)"/></td>
	<td></td>
	<td></td>
	<td></td>
	<td></td>
	<td>ИТОГО</td>
	<td><input type="text" size="8" name="TOTAL"/></td>
	</tr>
   </table>
</div><!--// row //-->
</form>
</div> <!--// container //-->

<script language="javascript" scr="js/bootstarp.bundle.min.js"></script>
</body>
</html>